{"ast":null,"code":"import _toConsumableArray from \"/Users/tatianamoreira/Documents/testTech/react/carbon-design-react-test/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/tatianamoreira/Documents/testTech/react/carbon-design-react-test/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/tatianamoreira/Documents/testTech/react/carbon-design-react-test/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/tatianamoreira/Documents/testTech/react/carbon-design-react-test/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/tatianamoreira/Documents/testTech/react/carbon-design-react-test/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/tatianamoreira/Documents/testTech/react/carbon-design-react-test/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport settings from '../../globals/js/settings';\nimport mixin from '../../globals/js/misc/mixin';\nimport createComponent from '../../globals/js/mixins/create-component';\nimport initComponentBySearch from '../../globals/js/mixins/init-component-by-search';\nimport handles from '../../globals/js/mixins/handles';\nimport eventMatches from '../../globals/js/misc/event-matches';\nimport on from '../../globals/js/misc/on';\n\nvar StructuredList =\n/*#__PURE__*/\nfunction (_mixin) {\n  _inherits(StructuredList, _mixin);\n\n  /**\n   * StructuredList\n   * @extends CreateComponent\n   * @extends InitComponentBySearch\n   * @extends Handles\n   * @param {HTMLElement} element The root element of tables\n   * @param {Object} [options] the... options\n   * @param {string} [options.selectorInit] selector initialization\n   * @param {string} [options.selectorRow] css selector for selected row\n   */\n  function StructuredList(element, options) {\n    var _this;\n\n    _classCallCheck(this, StructuredList);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(StructuredList).call(this, element, options));\n\n    _this.manage(on(_this.element, 'keydown', function (evt) {\n      if (evt.which === 38 || evt.which === 40) {\n        _this._handleKeydownArrow(evt);\n      }\n\n      if (evt.which === 13 || evt.which === 32) {\n        _this._handleKeydownChecked(evt);\n      }\n    }));\n\n    _this.manage(on(_this.element, 'click', function (evt) {\n      _this._handleClick(evt);\n    }));\n\n    return _this;\n  }\n\n  _createClass(StructuredList, [{\n    key: \"_direction\",\n    value: function _direction(evt) {\n      return {\n        38: -1,\n        // backward\n        40: 1 // forward\n\n      }[evt.which];\n    }\n  }, {\n    key: \"_nextIndex\",\n    value: function _nextIndex(array, arrayItem, direction) {\n      return array.indexOf(arrayItem) + direction; // returns -1, 0, 1, 2, 3, 4...\n    }\n  }, {\n    key: \"_getInput\",\n    value: function _getInput(index) {\n      var rows = _toConsumableArray(this.element.querySelectorAll(this.options.selectorRow));\n\n      return this.element.ownerDocument.querySelector(this.options.selectorListInput(rows[index].getAttribute('for')));\n    }\n  }, {\n    key: \"_handleInputChecked\",\n    value: function _handleInputChecked(index) {\n      var input = this._getInput(index);\n\n      input.checked = true;\n    }\n  }, {\n    key: \"_handleClick\",\n    value: function _handleClick(evt) {\n      var _this2 = this;\n\n      var selectedRow = eventMatches(evt, this.options.selectorRow);\n\n      _toConsumableArray(this.element.querySelectorAll(this.options.selectorRow)).forEach(function (row) {\n        return row.classList.remove(_this2.options.classActive);\n      });\n\n      if (selectedRow) {\n        selectedRow.classList.add(this.options.classActive);\n      }\n    } // Handle Enter or Space keydown events for selecting <label> rows\n\n  }, {\n    key: \"_handleKeydownChecked\",\n    value: function _handleKeydownChecked(evt) {\n      var _this3 = this;\n\n      var selectedRow = eventMatches(evt, this.options.selectorRow);\n\n      _toConsumableArray(this.element.querySelectorAll(this.options.selectorRow)).forEach(function (row) {\n        return row.classList.remove(_this3.options.classActive);\n      });\n\n      if (selectedRow) {\n        selectedRow.classList.add(this.options.classActive);\n        var input = this.element.querySelector(this.options.selectorListInput(selectedRow.getAttribute('for')));\n        input.checked = true;\n      }\n    } // Handle up and down keydown events for selecting <label> rows\n\n  }, {\n    key: \"_handleKeydownArrow\",\n    value: function _handleKeydownArrow(evt) {\n      var _this4 = this;\n\n      var selectedRow = eventMatches(evt, this.options.selectorRow);\n\n      var direction = this._direction(evt);\n\n      if (direction && selectedRow !== undefined) {\n        var rows = _toConsumableArray(this.element.querySelectorAll(this.options.selectorRow));\n\n        rows.forEach(function (row) {\n          return row.classList.remove(_this4.options.classActive);\n        });\n        var firstIndex = 0;\n\n        var nextIndex = this._nextIndex(rows, selectedRow, direction);\n\n        var lastIndex = rows.length - 1;\n\n        switch (nextIndex) {\n          case -1:\n            rows[lastIndex].classList.add(this.options.classActive);\n            rows[lastIndex].focus();\n\n            this._handleInputChecked(lastIndex);\n\n            break;\n\n          case rows.length:\n            rows[firstIndex].classList.add(this.options.classActive);\n            rows[firstIndex].focus();\n\n            this._handleInputChecked(firstIndex);\n\n            break;\n\n          default:\n            rows[nextIndex].classList.add(this.options.classActive);\n            rows[nextIndex].focus();\n\n            this._handleInputChecked(nextIndex);\n\n            break;\n        }\n      }\n    }\n  }], [{\n    key: \"options\",\n    get: function get() {\n      var prefix = settings.prefix;\n      return {\n        selectorInit: '[data-structured-list]',\n        selectorRow: \"[data-structured-list] .\".concat(prefix, \"--structured-list-tbody > label.\").concat(prefix, \"--structured-list-row\"),\n        selectorListInput: function selectorListInput(id) {\n          return \"#\".concat(id, \".\").concat(prefix, \"--structured-list-input\");\n        },\n        classActive: \"\".concat(prefix, \"--structured-list-row--selected\")\n      };\n    }\n  }]);\n\n  return StructuredList;\n}(mixin(createComponent, initComponentBySearch, handles));\n\nStructuredList.components = new WeakMap();\nexport default StructuredList;","map":{"version":3,"sources":["/Users/tatianamoreira/Documents/testTech/react/carbon-design-react-test/src/components/structured-list/structured-list.js"],"names":["settings","mixin","createComponent","initComponentBySearch","handles","eventMatches","on","StructuredList","element","options","manage","evt","which","_handleKeydownArrow","_handleKeydownChecked","_handleClick","array","arrayItem","direction","indexOf","index","rows","querySelectorAll","selectorRow","ownerDocument","querySelector","selectorListInput","getAttribute","input","_getInput","checked","selectedRow","forEach","row","classList","remove","classActive","add","_direction","undefined","firstIndex","nextIndex","_nextIndex","lastIndex","length","focus","_handleInputChecked","prefix","selectorInit","id","components","WeakMap"],"mappings":"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","sourcesContent":["import settings from '../../globals/js/settings';\nimport mixin from '../../globals/js/misc/mixin';\nimport createComponent from '../../globals/js/mixins/create-component';\nimport initComponentBySearch from '../../globals/js/mixins/init-component-by-search';\nimport handles from '../../globals/js/mixins/handles';\nimport eventMatches from '../../globals/js/misc/event-matches';\nimport on from '../../globals/js/misc/on';\n\nclass StructuredList extends mixin(createComponent, initComponentBySearch, handles) {\n  /**\n   * StructuredList\n   * @extends CreateComponent\n   * @extends InitComponentBySearch\n   * @extends Handles\n   * @param {HTMLElement} element The root element of tables\n   * @param {Object} [options] the... options\n   * @param {string} [options.selectorInit] selector initialization\n   * @param {string} [options.selectorRow] css selector for selected row\n   */\n  constructor(element, options) {\n    super(element, options);\n    this.manage(\n      on(this.element, 'keydown', evt => {\n        if (evt.which === 38 || evt.which === 40) {\n          this._handleKeydownArrow(evt);\n        }\n        if (evt.which === 13 || evt.which === 32) {\n          this._handleKeydownChecked(evt);\n        }\n      })\n    );\n    this.manage(\n      on(this.element, 'click', evt => {\n        this._handleClick(evt);\n      })\n    );\n  }\n\n  _direction(evt) {\n    return {\n      38: -1, // backward\n      40: 1, // forward\n    }[evt.which];\n  }\n\n  _nextIndex(array, arrayItem, direction) {\n    return array.indexOf(arrayItem) + direction; // returns -1, 0, 1, 2, 3, 4...\n  }\n\n  _getInput(index) {\n    const rows = [...this.element.querySelectorAll(this.options.selectorRow)];\n    return this.element.ownerDocument.querySelector(this.options.selectorListInput(rows[index].getAttribute('for')));\n  }\n\n  _handleInputChecked(index) {\n    const input = this._getInput(index);\n    input.checked = true;\n  }\n\n  _handleClick(evt) {\n    const selectedRow = eventMatches(evt, this.options.selectorRow);\n    [...this.element.querySelectorAll(this.options.selectorRow)].forEach(row => row.classList.remove(this.options.classActive));\n    if (selectedRow) {\n      selectedRow.classList.add(this.options.classActive);\n    }\n  }\n\n  // Handle Enter or Space keydown events for selecting <label> rows\n  _handleKeydownChecked(evt) {\n    const selectedRow = eventMatches(evt, this.options.selectorRow);\n    [...this.element.querySelectorAll(this.options.selectorRow)].forEach(row => row.classList.remove(this.options.classActive));\n    if (selectedRow) {\n      selectedRow.classList.add(this.options.classActive);\n      const input = this.element.querySelector(this.options.selectorListInput(selectedRow.getAttribute('for')));\n      input.checked = true;\n    }\n  }\n\n  // Handle up and down keydown events for selecting <label> rows\n  _handleKeydownArrow(evt) {\n    const selectedRow = eventMatches(evt, this.options.selectorRow);\n    const direction = this._direction(evt);\n\n    if (direction && selectedRow !== undefined) {\n      const rows = [...this.element.querySelectorAll(this.options.selectorRow)];\n      rows.forEach(row => row.classList.remove(this.options.classActive));\n      const firstIndex = 0;\n      const nextIndex = this._nextIndex(rows, selectedRow, direction);\n      const lastIndex = rows.length - 1;\n\n      switch (nextIndex) {\n        case -1:\n          rows[lastIndex].classList.add(this.options.classActive);\n          rows[lastIndex].focus();\n          this._handleInputChecked(lastIndex);\n          break;\n        case rows.length:\n          rows[firstIndex].classList.add(this.options.classActive);\n          rows[firstIndex].focus();\n          this._handleInputChecked(firstIndex);\n          break;\n        default:\n          rows[nextIndex].classList.add(this.options.classActive);\n          rows[nextIndex].focus();\n          this._handleInputChecked(nextIndex);\n          break;\n      }\n    }\n  }\n\n  static components = new WeakMap();\n\n  static get options() {\n    const { prefix } = settings;\n    return {\n      selectorInit: '[data-structured-list]',\n      selectorRow: `[data-structured-list] .${prefix}--structured-list-tbody > label.${prefix}--structured-list-row`,\n      selectorListInput: id => `#${id}.${prefix}--structured-list-input`,\n      classActive: `${prefix}--structured-list-row--selected`,\n    };\n  }\n}\n\nexport default StructuredList;\n"]},"metadata":{},"sourceType":"module"}